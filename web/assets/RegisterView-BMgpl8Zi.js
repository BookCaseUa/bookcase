import{_ as I,u as L,k as j,l as A,r as s,m as B,c as f,a as o,b as P,d as n,w as _,e as M,v as S,n as k,f as T,t as d,g as O,h as Z,o as g,i as q,j as G}from"./index-B0bI5t4i.js";const H={class:"input-container"},J=["placeholder"],K=["placeholder"],Q=["type","placeholder"],W=["type","placeholder"],X={key:0,class:"error-message"},Y={key:1,class:"error-message"},ee={type:"submit"},oe={__name:"RegisterForm",setup(N){const i=L(),V=j(),w=Z(),{t:l}=A(),y=s(""),v=s(""),p=s(""),$=s(""),c=s(""),u=s(""),m=s(!1),h=s(!1),x=()=>m.value=!m.value,D=()=>h.value=!h.value,U=s(!1),b=s(!1),C=s(!1),E=B(()=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d).{8,}$/.test(p.value)),R=B(()=>p.value===$.value);async function z(){if(C.value=!0,u.value="",v.value.trim()===""){u.value=l("auth.correoObligatorio");return}(await V.getUsers()).data.find(r=>r.email===v.value)&&(u.value=l("auth.correoExiste"))}async function F(){if(u.value){c.value=l("auth.correoErroneo");return}if(!E.value){c.value=l("auth.contraseñaRequisitos");return}if(!R.value){c.value=l("auth.contraseñasNoCoinciden");return}try{if(await i.register(v.value,p.value,y.value),i.logged)w.push("/");else throw new Error(l("auth.errorCorreoExiste"))}catch(t){console.error(t),c.value=t.message||l("auth.error")}}return(t,e)=>{const r=M("font-awesome-icon");return g(),f("form",{onSubmit:O(F,["prevent"])},[o("div",H,[n(r,{icon:"user"}),_(o("input",{type:"text","onUpdate:modelValue":e[0]||(e[0]=a=>y.value=a),placeholder:t.$t("auth.nombreUsuario"),required:""},null,8,J),[[S,y.value]])]),o("div",{class:k(["input-container",{error:C.value&&u.value}])},[n(r,{icon:"envelope"}),_(o("input",{type:"email","onUpdate:modelValue":e[1]||(e[1]=a=>v.value=a),placeholder:t.$t("auth.correo"),required:"",onBlur:z},null,40,K),[[S,v.value]])],2),o("div",{class:k(["input-container",{error:U.value&&!E.value}])},[n(r,{icon:"lock"}),_(o("input",{type:m.value?"text":"password","onUpdate:modelValue":e[2]||(e[2]=a=>p.value=a),onBlur:e[3]||(e[3]=a=>U.value=!0),placeholder:t.$t("auth.contraseña"),required:"",title:"Debe tener al menos 8 caracteres, una mayúscula, una minúscula y un número"},null,40,Q),[[T,p.value]]),n(r,{icon:m.value?"eye-slash":"eye",class:"toggle-icon",onClick:x},null,8,["icon"])],2),o("div",{class:k(["input-container",{error:b.value&&!R.value}])},[n(r,{icon:"lock"}),_(o("input",{type:h.value?"text":"password","onUpdate:modelValue":e[4]||(e[4]=a=>$.value=a),onBlur:e[5]||(e[5]=a=>b.value=!0),placeholder:t.$t("auth.confirmarContraseña"),required:""},null,40,W),[[T,$.value]]),n(r,{icon:h.value?"eye-slash":"eye",class:"toggle-icon",onClick:D},null,8,["icon"])],2),c.value?(g(),f("p",X,d(c.value),1)):P("",!0),C.value&&u.value?(g(),f("p",Y,d(u.value),1)):P("",!0),o("button",ee,d(t.$t("auth.registrarse")),1)],32)}}},se=I(oe,[["__scopeId","data-v-591367e7"]]),te={class:"page-container"},ae={class:"card"},re={class:"switch-form"},ne={__name:"RegisterView",setup(N){return(i,V)=>{const w=M("router-link");return g(),f("div",te,[o("div",ae,[o("h2",null,d(i.$t("auth.registroTitulo")),1),n(se),o("p",re,[q(d(i.$t("auth.yaCuenta"))+" ",1),n(w,{to:"/login"},{default:G(()=>[q(d(i.$t("auth.iniciaSesion")),1)]),_:1})])])])}}},ue=I(ne,[["__scopeId","data-v-250e3dac"]]);export{ue as default};
