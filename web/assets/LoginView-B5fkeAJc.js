import{_ as k,u as L,r as n,c as u,a as e,b as w,d,w as $,e as V,v as C,f as T,t,n as U,g as q,h as N,o as c,i as b,j as B}from"./index-B0bI5t4i.js";const D={class:"input-container"},I=["placeholder"],P={class:"input-container"},R=["type","placeholder"],F={key:0,class:"error-message"},j={type:"submit"},z={key:1,class:"modal"},A={class:"modal-content"},G=["placeholder"],H={class:"modal-buttons"},J={__name:"LoginForm",setup(S){const r=L(),h=N(),l=n(""),_=n(""),v=n(!1),i=n(""),p=n(!1),g=n(""),m=n(""),f=n(!1);async function M(){i.value="";try{await r.login(l.value,_.value),r.logged?h.push("/"):i.value="Correo o contraseña incorrectos."}catch(o){console.error("Error en login:",o),i.value="Error al iniciar sesión. Inténtalo de nuevo más tarde."}}async function E(){const o=await r.recoverPassword(g.value);m.value=o.message,f.value=o.result==="SUCCESS",f.value&&setTimeout(()=>{p.value=!1,m.value="",h.push("/login")},3e3)}return(o,s)=>{const y=V("font-awesome-icon");return c(),u("form",{onSubmit:q(M,["prevent"])},[e("div",D,[d(y,{icon:"envelope"}),$(e("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=a=>l.value=a),placeholder:o.$t("auth.correo"),required:""},null,8,I),[[C,l.value]])]),e("div",P,[d(y,{icon:"lock"}),$(e("input",{type:v.value?"text":"password","onUpdate:modelValue":s[1]||(s[1]=a=>_.value=a),placeholder:o.$t("auth.contraseña"),required:""},null,8,R),[[T,_.value]]),e("button",{type:"button",class:"toggle-password",onClick:s[2]||(s[2]=a=>v.value=!v.value)},[d(y,{icon:v.value?"eye-slash":"eye"},null,8,["icon"])])]),i.value?(c(),u("p",F,t(i.value),1)):w("",!0),e("button",j,t(o.$t("auth.iniciarSesion")),1),e("p",{class:"forgot-password",onClick:s[3]||(s[3]=a=>p.value=!0)},t(o.$t("auth.olvidoContraseña")),1),p.value?(c(),u("div",z,[e("div",A,[e("h3",null,t(o.$t("auth.recuperarTitulo")),1),$(e("input",{type:"email","onUpdate:modelValue":s[4]||(s[4]=a=>g.value=a),placeholder:o.$t("auth.introduceCorreo"),required:""},null,8,G),[[C,g.value]]),e("div",H,[e("button",{onClick:E},t(o.$t("auth.enviar")),1),e("button",{class:"close-btn",onClick:s[5]||(s[5]=a=>p.value=!1)},t(o.$t("auth.cerrar")),1)]),m.value?(c(),u("p",{key:0,class:U(f.value?"success-message":"error-message")},t(m.value),3)):w("",!0)])])):w("",!0)],32)}}},K=k(J,[["__scopeId","data-v-ccaeab12"]]),O={class:"page-container"},Q={class:"card"},W={class:"switch-form"},X={__name:"LoginView",setup(S){return(r,h)=>{const l=V("router-link");return c(),u("div",O,[e("div",Q,[e("h2",null,t(r.$t("auth.loginTitulo")),1),d(K),e("p",W,[b(t(r.$t("auth.noCuenta"))+" ",1),d(l,{to:"/register"},{default:B(()=>[b(t(r.$t("auth.registrateAqui")),1)]),_:1})])])])}}},Z=k(X,[["__scopeId","data-v-fd9a28eb"]]);export{Z as default};
