import{_ as L,Z as j,r as f,l as N,m as h,z as P,p as k,j as a,e as o,o as _,d as s,a as l,c as S,i as y,t as r,n as z}from"./index-B0bI5t4i.js";const A={class:"text-h5 font-weight-bold text-center mb-6 color-proyecto"},I={class:"no-datos"},D={key:1,class:"no-books"},E={__name:"AdminBooksView",setup(G){const v=j(),u=f(""),b=f(1),{t:i}=N(),w=h(()=>[{title:i("libros.titulo"),key:"title",align:"center",sortable:!0},{title:i("libros.autor"),key:"author",align:"center",sortable:!0},{title:i("libros.genero"),key:"genre",align:"center",sortable:!0},{title:i("libros.anio"),key:"year",align:"center",sortable:!0}]),B=t=>i(`libros.generos.${t}`)||t,g=h(()=>{const t=u.value.toLowerCase().trim();return v.books.map(e=>{var p,m,c,d;return{title:((p=e.data)==null?void 0:p.title)||"",author:((m=e.data)==null?void 0:m.author)||"",genre:((c=e.data)==null?void 0:c.genre)||"-",year:((d=e.data)==null?void 0:d.primera_publicacion)||"-"}}).filter(e=>e.title.toLowerCase().includes(t)||e.author.toLowerCase().includes(t))});return P(async()=>{await v.fetchBooks()}),(t,e)=>{const p=o("v-icon"),m=o("v-text-field"),c=o("v-col"),d=o("v-row"),V=o("v-data-table"),x=o("v-card"),C=o("v-container");return _(),k(C,{class:"book-list-container"},{default:a(()=>[s(d,{justify:"center"},{default:a(()=>[s(c,{cols:"12",md:"12"},{default:a(()=>[s(x,{class:"book-list-vcard",elevation:"6"},{default:a(()=>[l("h2",A,[s(p,{class:"mr-2"},{default:a(()=>e[2]||(e[2]=[y("mdi-book-open-variant")])),_:1}),y(" "+r(t.$t("libros.titulo")),1)]),s(d,{justify:"center",align:"center"},{default:a(()=>[s(c,{cols:"12",md:"12"},{default:a(()=>[s(m,{modelValue:u.value,"onUpdate:modelValue":e[0]||(e[0]=n=>u.value=n),placeholder:t.$t("libros.buscar"),outlined:"",clearable:"","hide-details":"","prepend-inner-icon":"mdi-magnify","onClick:clear":e[1]||(e[1]=()=>{u.value="",b.value=1})},null,8,["modelValue","placeholder"])]),_:1})]),_:1}),g.value.length>0?(_(),k(V,{key:0,headers:w.value,items:g.value,"items-per-page":5,page:b.value,"items-per-page-options":[5,10,20,50,-1],"items-per-page-text":t.$t("tabla.elementosPorPagina"),"items-per-page-all-text":t.$t("tabla.todos"),class:"mt-4"},{item:a(({item:n,index:$})=>[l("tr",{class:z($%2===0?"fila-par":"fila-impar")},[l("td",null,r(n.title||"-"),1),l("td",null,r(n.author||"-"),1),l("td",null,r(B(n.genre)||"-"),1),l("td",null,r(n.year||"-"),1)],2)]),"no-data":a(()=>[l("div",I,r(t.$t("libros.sinResultados")),1)]),_:1},8,["headers","items","page","items-per-page-text","items-per-page-all-text"])):(_(),S("p",D,r(t.$t("libros.sinLibros")),1))]),_:1})]),_:1})]),_:1})]),_:1})}}},Q=L(E,[["__scopeId","data-v-75bb4448"]]);export{Q as default};
